<div class="container max-w-lg p-5 mx-auto border">
  <% @order_histories.each do |order_history| %>
    <div class="flex items-center justify-between p-3 mb-3 border-b">
      <div class="flex items-center gap-1">
        <%= order_history.drink_name %>
        <span>×</span>
        <%= order_history.order_count %>
      </div>
      <div>
        <%= number_to_currency(order_history.total, precision: 0, unit: '¥') %>
      </div>
    </div>
  <% end %>
  <div class="flex items-center justify-between p-3 mt-10 mb-3 font-bold border-b">
    <span>小計</span>
    <span><%= number_to_currency(@order_histories.sum(&:total), precision: 0, unit: '¥') %></span>
  </div>
  <div class="flex items-center justify-between p-3 mb-3 font-bold border-b">
    <span class="text-sm">消費税</span>
    <span class="text-sm"><%= number_to_currency(@order_histories.sum(&:total) * 0.1, precision: 0, unit: '¥') %></span>
  </div>
  <div class="flex items-center justify-between p-3 mb-3 font-bold border-b">
    <span class="text-3xl">合計</span>
    <span class="text-3xl"><%= number_to_currency(@order_histories.sum(&:total) * 1.1, precision: 0, unit: '¥') %></span>
  </div>
  <div class="text-right">
    <% if current_order.present? %>
      <% if current_order&.paid_at.nil? %>
        <%= button_to 'お会計', order_unit_order_complete_path(current_order_unit, current_order_unit.order), class: 'btn btn-primary', form: { data: { turbo_confirm: 'お会計します'} } %>
        <% else %>
        <span>お会計済みです。レジまでお越しください。</span>
      <% end %>
      <% else %>
      <span>まだ注文がありません</span>
    <% end %>
  </div>
</div>